<template>
  <div class="home-page">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 1</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 2</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 3</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 4</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 5</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 6</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Categoría 7</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="banner">
      <div class="banner-slide">
        <div class="slide-image">
          <img src="/images/slide2.jpg" alt="slide2"/>
        </div>
        <div class="slide-content-wrap">
          <div class="container slide-wrap">
            <div class="slide-content ">
              <div class="slide-content-main">
                <div class="pre-heading-text" data-animation-in="bounceInDown" data-animation-out="animate-out slideOutUp">
                  Recreate your style
                </div>
                <div class="heading-text">
                  <div>Get 50% discount off</div>
                  <div>summer formal wears</div>
                </div>
                <div class="slide-content-body">
                  <p>Create your unique niche through creative brand concepts</p>
                </div>
              </div>
            </div>
           </div> 
        </div>
      </div>
    </div>

    <div class="sections">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div class="category-box">
              <div class="category-container">
              <div class="category-image">
                <img src="/images/category-1.jpg">
              </div>
              <div class="category-meta">
                <div class="category-meta-content left">
                  <div class="category-meta-text">
                    <h3 class="category-title clearfix">
                      <span>Nuevos Productos</span>
                    </h3>
                    <div class="category-link mt-2">
                      <a href="#">Compra Ahora >></a>
                    </div>
                  </div>
                </div>
              </div>
              </div>
            </div>
            <div class="category-box">
              <div class="category-container">
                <div class="category-image">
                  <img src="/images/category-3.jpg">
                </div>
                <div class="category-meta">
                  <div class="category-meta-content center text-center">
                    <div class="category-meta-text">
                      <h3 class="category-title clearfix">
                        <span>Productos Recomendados</span>
                      </h3>
                      <div class="category-link mt-2">
                        <a href="#">Compra Ahora >></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="category-box">
              <div class="category-container">
              <div class="category-image">
                <img src="/images/category-2.jpg">
              </div>
              <div class="category-meta">
                <div class="category-meta-content center text-center">
                  <div class="category-meta-text">
                    <h3 class="category-title clearfix">
                      <span>Lo más vendido</span>
                    </h3>
                    <div class="category-link mt-2">
                      <a href="#">Compra Ahora >></a>
                    </div>
                  </div>
                </div>
              </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="category-box">
              <div class="category-container">
                <div class="category-image">
                  <img src="/images/category-4.jpg">
                </div>
                <div class="category-meta">
                  <div class="category-meta-content center text-center">
                    <div class="category-meta-text">
                      <h3 class="category-title clearfix">
                        <span>Video Juegos</span>
                      </h3>
                      <div class="category-link mt-2">
                        <a href="#">Compra Ahora >></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="category-box">
              <div class="category-container">
                <div class="category-image">
                  <img src="/images/category-5.jpg">
                </div>
                <div class="category-meta">
                  <div class="category-meta-content center text-center">
                    <div class="category-meta-text">
                      <h3 class="category-title clearfix">
                        <span>Accesorio Celulares</span>
                      </h3>
                      <div class="category-link mt-2">
                        <a href="#">Compra Ahora >></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="sections section-bg" style="background-image:url('/images/info.jpg')">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div class="icon-box-items">
              <div class="icon-box-item">
                <div class="box-icon">
                  <i class="ion-android-plane"></i>
                </div>
                <div class="box-desc">
                  <h4>Free Shipping Order</h4>
                  <p>Improve $500 enquire own beloved</p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="icon-box-items">
              <div class="icon-box-item">
                <div class="box-icon">
                  <i class="ion-clock"></i>
                </div>
                <div class="box-desc">
                  <h4>30 Days Returns Policy</h4>
                  <p>Welcome own beloved enquire</p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="icon-box-items">
              <div class="icon-box-item">
                <div class="box-icon">
                  <i class="ion-android-contacts"></i>
                </div>
                <div class="box-desc">
                  <h4>24/7 Customer Support</h4>
                  <p>Enquire welcome beloved matters</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="sections">
      <h2 class="text-center">Productos más buscados</h2>

      <div class="container">
        <div class="row">

          <div class="col-md-3" v-for="product in products">
            <div class="product-box">
              <div class="product-image">
                <img v-holder="{img:'255x255'}" class="img-fluid">
              </div>
              <div class="product-meta-container">
                <div class="product-meta text-center">
                  <div class="product-title">
                    <a :href="'/products/'+product.slug">{{ product.name }}</a>
                  </div>
                  <div class="product-price">
                    <span v-if="product.discount">S/.{{ product.discount | amount }}</span>
                    <span v-else>S/.{{ product.price | amount }}</span>
                  </div>
                </div>
                <div class="product-add-cart">
                  <button class="btn btn-red">Add to cart</button>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script type="text/javascript">
  export default {
    name: 'home',
    data(){
      return {
        categories:[],
        products:[],
      }
    },
    methods:{

    },
    filters:{
      amount(value){
        return parseFloat(value).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
      }
    },
    mounted(){
      var vm = this;

      axios.get('/api/products').then(
        (result) => {

          vm.products = result.data.products;

        },

        (error) => {

        }
      );

      axios.get('/api/categories').then(
        (result) => {

          vm.categories = result.data.categories;

        },
        (error) => {

        }
      )
    }
  }
</script>